<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>datalevin.lmdb documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Datalevin</span> <span class="project-version">0.1.13</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datalevin</span></div></div></li><li class="depth-2 branch"><a href="datalevin.bits.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bits</span></div></a></li><li class="depth-2 branch"><a href="datalevin.constants.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>constants</span></div></a></li><li class="depth-2 branch"><a href="datalevin.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="datalevin.datom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datom</span></div></a></li><li class="depth-2 branch current"><a href="datalevin.lmdb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lmdb</span></div></a></li><li class="depth-2 branch"><a href="datalevin.storage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>storage</span></div></a></li><li class="depth-2"><a href="datalevin.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="datalevin.lmdb.html#var-default-dbi-flags"><div class="inner"><span>default-dbi-flags</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-default-env-flags"><div class="inner"><span>default-env-flags</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-IBuffer"><div class="inner"><span>IBuffer</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-put-key"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>put-key</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-put-val"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>put-val</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-IKV"><div class="inner"><span>IKV</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-del"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>del</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-iterate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>iterate</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-put"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>put</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-ILMDB"><div class="inner"><span>ILMDB</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-close"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>close</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-entries"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entries</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-dbi"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-dbi</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-first"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-first</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-range"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-range</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-some"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-some</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-value</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-open-dbi"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>open-dbi</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-range-filter"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>range-filter</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-transact"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transact</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-IRange"><div class="inner"><span>IRange</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-put-start-key"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>put-start-key</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-put-stop-key"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>put-stop-key</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-IRtx"><div class="inner"><span>IRtx</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-close-rtx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>close-rtx</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-renew"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>renew</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-reset"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reset</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-IRtxPool"><div class="inner"><span>IRtxPool</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-close-pool"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>close-pool</span></div></a></li><li class="depth-2 branch"><a href="datalevin.lmdb.html#var-get-rtx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-rtx</span></div></a></li><li class="depth-2"><a href="datalevin.lmdb.html#var-new-rtx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>new-rtx</span></div></a></li><li class="depth-1"><a href="datalevin.lmdb.html#var-open-lmdb"><div class="inner"><span>open-lmdb</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">datalevin.lmdb</h1><div class="doc"><pre class="plaintext">Wrapping LMDB
</pre></div><div class="public anchor" id="var-default-dbi-flags"><h3>default-dbi-flags</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-default-env-flags"><h3>default-env-flags</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-IBuffer"><h3>IBuffer</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-put-key"><h3>put-key</h3><div class="usage"><code>(put-key this data k-type)</code></div><div class="doc"><pre class="plaintext">put data in key buffer, k-type can be :long, :byte, :bytes, :data
</pre></div></div><div class="public anchor" id="var-put-val"><h3>put-val</h3><div class="usage"><code>(put-val this data v-type)</code></div><div class="doc"><pre class="plaintext">put data in val buffer, v-type can be :long, :byte, :bytes, :data
</pre></div></div></div></div></div><div class="public anchor" id="var-IKV"><h3>IKV</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-del"><h3>del</h3><div class="usage"><code>(del this txn)</code></div><div class="doc"><pre class="plaintext">Delete the key given in `put-key` of dbi
</pre></div></div><div class="public anchor" id="var-get"><h3>get</h3><div class="usage"><code>(get this rtx)</code></div><div class="doc"><pre class="plaintext">Get value of the key given in `put-key` of rtx
</pre></div></div><div class="public anchor" id="var-iterate"><h3>iterate</h3><div class="usage"><code>(iterate this rtx range-type)</code></div><div class="doc"><pre class="plaintext">Return a CursorIterable
</pre></div></div><div class="public anchor" id="var-put"><h3>put</h3><div class="usage"><code>(put this txn)</code><code>(put this txn put-flags)</code></div><div class="doc"><pre class="plaintext">Put kv pair given in `put-key` and `put-val` of dbi
</pre></div></div></div></div></div><div class="public anchor" id="var-ILMDB"><h3>ILMDB</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close this)</code></div><div class="doc"><pre class="plaintext">Close this LMDB env
</pre></div></div><div class="public anchor" id="var-entries"><h3>entries</h3><div class="usage"><code>(entries this dbi-name)</code></div><div class="doc"><pre class="plaintext">Get the number of data entries in a dbi
</pre></div></div><div class="public anchor" id="var-get-dbi"><h3>get-dbi</h3><div class="usage"><code>(get-dbi this dbi-name)</code></div><div class="doc"><pre class="plaintext">Lookup DBI (i.e. sub-db) by name
</pre></div></div><div class="public anchor" id="var-get-first"><h3>get-first</h3><div class="usage"><code>(get-first this dbi-name k-range)</code><code>(get-first this dbi-name k-range k-type)</code><code>(get-first this dbi-name k-range k-type v-type)</code><code>(get-first this dbi-name k-range k-type v-type ignore-key?)</code></div><div class="doc"><pre class="plaintext">Return the first kv pair in the specified key range;
k-range is a vector [range-type k1 k2], range-type can be one of
:all, :at-least, :at-most, :closed, :closed-open, :greater-than,
:less-than, :open, :open-closed, plus backward variants that put a
`-back` suffix to each of the above, e.g. :all-back;
k-type and v-type can be :data (default), :long, :byte, :bytes, :datom,
or :attr; only the value will be returned if ignore-key? is true;
If value is to be ignored, put :ignore as v-type</pre></div></div><div class="public anchor" id="var-get-range"><h3>get-range</h3><div class="usage"><code>(get-range this dbi-name k-range)</code><code>(get-range this dbi-name k-range k-type)</code><code>(get-range this dbi-name k-range k-type v-type)</code><code>(get-range this dbi-name k-range k-type v-type ignore-key?)</code></div><div class="doc"><pre class="plaintext">Return a seq of kv pair in the specified key range;
k-range is a vector [range-type k1 k2], range-type can be one of
:all, :at-least, :at-most, :closed, :closed-open, :greater-than,
:less-than, :open, :open-closed, plus backward variants that put a
`-back` suffix to each of the above, e.g. :all-back;
k-type and v-type can be :data (default), :long, :byte, :bytes, :datom,
or :attr; only values will be returned if ignore-key? is true;
If value is to be ignored, put :ignore as v-type</pre></div></div><div class="public anchor" id="var-get-some"><h3>get-some</h3><div class="usage"><code>(get-some this dbi-name pred k-range)</code><code>(get-some this dbi-name pred k-range k-type)</code><code>(get-some this dbi-name pred k-range k-type v-type)</code><code>(get-some this dbi-name pred k-range k-type v-type ignore-key?)</code></div><div class="doc"><pre class="plaintext">Return the first kv pair that has logical true value of (pred x),
x is an IMapEntry , in the specified key range, or return nil;
k-range is a vector [range-type k1 k2], range-type can be one of
:all, :at-least, :at-most, :closed, :closed-open, :greater-than,
:less-than, :open, :open-closed, plus backward variants that put a
`-back` suffix to each of the above, e.g. :all-back;
k-type and v-type can be :data (default), :long, :byte, :bytes, :datom,
or :attr; only values will be returned if ignore-key? is true</pre></div></div><div class="public anchor" id="var-get-value"><h3>get-value</h3><div class="usage"><code>(get-value this dbi-name k)</code><code>(get-value this dbi-name k k-type)</code><code>(get-value this dbi-name k k-type v-type)</code><code>(get-value this dbi-name k k-type v-type ignore-key?)</code></div><div class="doc"><pre class="plaintext">Get kv pair of the specified key, k-type and v-type can be
:data (default), :byte, :bytes, :attr, :datom or :long;
if ignore-key? (default true), only return value</pre></div></div><div class="public anchor" id="var-open-dbi"><h3>open-dbi</h3><div class="usage"><code>(open-dbi this dbi-name)</code><code>(open-dbi this dbi-name key-size)</code><code>(open-dbi this dbi-name key-size val-size)</code><code>(open-dbi this dbi-name key-size val-size flags)</code></div><div class="doc"><pre class="plaintext">Open a named dbi (i.e. sub-db) in the LMDB
</pre></div></div><div class="public anchor" id="var-range-filter"><h3>range-filter</h3><div class="usage"><code>(range-filter this dbi-name pred k-range)</code><code>(range-filter this dbi-name pred k-range k-type)</code><code>(range-filter this dbi-name pred k-range k-type v-type)</code><code>(range-filter this dbi-name pred k-range k-type v-type ignore-key?)</code></div><div class="doc"><pre class="plaintext">Return a seq of kv pair in the specified key range, for only those
return true value for (pred x), where x is an IMapEntry;
k-range is a vector [range-type k1 k2], range-type can be one of
:all, :at-least, :at-most, :closed, :closed-open, :greater-than,
:less-than, :open, :open-closed, plus backward variants that put a
`-back` suffix to each of the above, e.g. :all-back;
k-type and v-type can be :data (default), :long, :byte, :bytes, :datom,
or :attr; only values will be returned if ignore-key? is true;
If value is to be ignored, put :ignore as v-type</pre></div></div><div class="public anchor" id="var-transact"><h3>transact</h3><div class="usage"><code>(transact this txs)</code></div><div class="doc"><pre class="plaintext">Update db, txs is a seq of [op dbi-name k v k-type v-type put-flags]
when op is :put; [op dbi-name k k-type] when op is :del;
See `bits/put-buffer` for allowed k-type and v-type</pre></div></div></div></div></div><div class="public anchor" id="var-IRange"><h3>IRange</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-put-start-key"><h3>put-start-key</h3><div class="usage"><code>(put-start-key this data k-type)</code></div><div class="doc"><pre class="plaintext">put data in start-key buffer, k-type can be :long, :byte, :bytes, :data
or index type, :eav etc.</pre></div></div><div class="public anchor" id="var-put-stop-key"><h3>put-stop-key</h3><div class="usage"><code>(put-stop-key this data k-type)</code></div><div class="doc"><pre class="plaintext">put data in stop-key buffer, k-type can be :long, :byte, :bytes, :data
or index type, :eav etc.</pre></div></div></div></div></div><div class="public anchor" id="var-IRtx"><h3>IRtx</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-close-rtx"><h3>close-rtx</h3><div class="usage"><code>(close-rtx this)</code></div><div class="doc"><pre class="plaintext">close the read-only transaction
</pre></div></div><div class="public anchor" id="var-renew"><h3>renew</h3><div class="usage"><code>(renew this)</code></div><div class="doc"><pre class="plaintext">renew and return previously reset transaction for reuse
</pre></div></div><div class="public anchor" id="var-reset"><h3>reset</h3><div class="usage"><code>(reset this)</code></div><div class="doc"><pre class="plaintext">reset transaction so it can be reused upon renew
</pre></div></div></div></div></div><div class="public anchor" id="var-IRtxPool"><h3>IRtxPool</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-close-pool"><h3>close-pool</h3><div class="usage"><code>(close-pool this)</code></div><div class="doc"><pre class="plaintext">Close all transactions in the pool
</pre></div></div><div class="public anchor" id="var-get-rtx"><h3>get-rtx</h3><div class="usage"><code>(get-rtx this)</code></div><div class="doc"><pre class="plaintext">Obtain a ready-to-use read-only transaction
</pre></div></div><div class="public anchor" id="var-new-rtx"><h3>new-rtx</h3><div class="usage"><code>(new-rtx this)</code></div><div class="doc"><pre class="plaintext">Create a new read-only transaction
</pre></div></div></div></div></div><div class="public anchor" id="var-open-lmdb"><h3>open-lmdb</h3><div class="usage"><code>(open-lmdb dir)</code><code>(open-lmdb dir size flags)</code></div><div class="doc"><pre class="plaintext">Open an LMDB env
</pre></div></div></div></body></html>